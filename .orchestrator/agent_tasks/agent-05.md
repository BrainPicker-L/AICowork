# Agent-05: 清理未使用代码

**任务 ID**: T-05
**输入参数**: 无
**执行模式**: 模拟并行

---

## 任务描述

清理项目中的未使用代码和死代码：

需要检查的内容：
1. 未使用的导入语句
2. 未使用的变量和函数
3. 注释掉的代码块
4. 无用的类型定义
5. 重复的类型声明

---

## 执行步骤

### 步骤 1: 检查未使用的导入

使用 TypeScript 和 ESLint 检查：
- 运行 `bun run lint` 查找未使用的导入
- 检查 `src/ui/` 和 `src/electron/` 目录

### 步骤 2: 检查未使用的函数/变量

搜索并验证：
- 导出但未被引用的函数
- 声明但未被使用的变量
- 死代码（永远不会执行的代码路径）

### 步骤 3: 清理注释代码

查找并移除：
- 被注释掉的代码块（超过3行）
- 调试用的 console.log（已在之前任务处理）
- TODO/FIXME 注释（已处理）

### 步骤 4: 清理重复类型

检查并合并：
- `src/ui/types.ts` 和 `src/ui/electron.d.ts` 中的重复类型
- 可以合并的类型定义

### 步骤 5: 清理无用文件

检查并删除：
- 空的测试文件
- 无用的示例文件
- 临时文件

---

## 输出格式

```markdown
# T-05 执行结果

## 清理的未使用导入

### 前端文件
- `src/ui/components/Example.tsx`: 删除未使用的 `useEffect`
- ...其他列表

### 后端文件
- `src/electron/libs/example.ts`: 删除未使用的导入
- ...其他列表

## 移除的死代码

### 注释掉的代码块
- `src/ui/App.tsx:123-130`: 删除注释的样式代码
- ...其他列表

## 删除的未使用函数

### 前端
- `src/ui/utils/unusedHelper.ts`: 完全删除（未使用）

### 后端
- `src/electron/test-old.ts`: 删除旧测试文件

## 类型定义优化

### 合并重复类型
- `SessionView` 类型统一到 `src/ui/types.ts`
- 移除 `src/electron/types.ts` 中的重复定义

## 删除的文件

- `src/ui/old-component.tsx` (未使用)
- `src/electron/deprecated.ts` (已废弃)

## 统计

- 清理的未使用导入: X 处
- 移除的死代码行: Y 行
- 删除的未使用函数: Z 个
- 删除的无用文件: W 个

## 代码减少量

- 总计减少: XXX 行代码
- 代码清理率: YY%

## 验证建议

1. 运行 `bun run lint` 确保无警告
2. 运行 `bun run build` 确保编译通过
3. 测试应用核心功能确保无破坏
```

---

**注意事项**:
- 确保代码确实未被使用再删除
- 使用 IDE 的 "Find References" 功能验证
- 优先使用自动化工具而非手动查找
- 保守处理，不确定的保留
